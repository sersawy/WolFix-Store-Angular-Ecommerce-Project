<main class="container my-4">
  @if (cartService.get().length > 0) {
    <div class="cart-container">
      <div class="cart-header">
        <h2><i class="bi bi-cart3"></i> Shopping Cart</h2>
        <span class="text-muted">{{ cartService.get().length }} items</span>
      </div>

      <div class="table-responsive">
        <table class="cart-table">
          <thead>
            <tr>
              <th>Product</th>
              <th>Price</th>
              <th>Quantity</th>
              <th>Subtotal</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            @for (item of cartService.get(); track $index) {
              <app-product-cart-card [item]="item"></app-product-cart-card>
            }
          </tbody>
        </table>
      </div>

      <div class="cart-footer">
        <div class="cart-total">
          <span class="cart-total-label">Total:</span>
          <span id="cartTotal">{{ cartService.total() | currency }}</span>
        </div>

        <div class="cart-actions">
          <app-btn-secondary
            routerLink="/"
            content='<i class="bi bi-arrow-left"></i> Continue Shopping'
          ></app-btn-secondary>

          <app-btn-primary
            routerLink="/checkout"
            content='<i class="bi bi-lock-fill"></i> Checkout'
          ></app-btn-primary>
        </div>
      </div>
    </div>
  } @else {
    <app-empty-cart></app-empty-cart>
  }
</main>
